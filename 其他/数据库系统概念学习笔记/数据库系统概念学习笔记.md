# 数据库系统概念学习笔记

## 15 并发控制

### 15.1 基于锁的协议

#### 15.1.3 两阶段封锁协议

两阶段封锁并不保证不会发生死锁。

**严格两阶段封锁协议：** 级联回滚可以通过将两阶段封锁修改为严格两阶段封锁协议加以避免。这个协议除了要求封锁是两阶段之外，还**要求事务持有的所有排他锁必须在事务提交后方可释放**。这个要求保证未提交事务所写的任何数据在该事务提交之前均以排他方式加锁，防止其他事务读这些数据。

**强两阶段封锁协议：** 另一个两阶段封锁的变体是强两阶段封锁协议，它**要求事务提交之前不得释放任何锁**。

严格两阶段封锁与强两阶段封锁（含锁转换）在商用数据库系统中广泛使用。

### 15.7 快照隔离

快照隔离是一种特殊的并发控制机制，并且在商业和开源系统中广泛接受，包括Oracle、PostgreSQL和SQL Server。

#### 15.7.2 串行化问题

