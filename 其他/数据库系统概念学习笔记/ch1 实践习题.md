## 实践习题

1.1 这一章讲述了数据库系统的几个主要的优点.它有哪两个不足之处?

相比于文件系统, 数据库系统能够解决一下问题:

1) 保证了"数据的冗余和不一致"
2) 解决数据访问困难问题
3) 解决数据孤立问题
4) 完整性问题
5) 原子性问题
6) 并发访问异常
7) 安全性问题

不好的数据库设计可能包括如下2个不良特性:

1) 信息重复.
2) 缺乏表达某些信息的能力.


1.2 列出Java或C++之类的语言中的类型说明系统与数据库系统中使用的数据定义语言的5个不同之处.

C++类型系统有:
1) template与auto
2) 非常量的左值引用
3) 常量的左值引用
4) 指向非常量的指针
5) 指向常量的指针

1.3 列出为一个企业建立数据库的六个主要步骤.

1) 调研哪些数据需要建立数据库
2) 这些数据对一致性各自都有哪些要求, 即约束
3) 对需要建立数据库的数据进行结构化分解, 避免重复信息
4) 建立表,索引,视图
5) 确定相关的数据库约束(如: 主键, check, 触发器等)
5) 数据库的安全(备份和恢复)

1.4 除了1.6.2节中已经列出的之外,请列出大学要维护的至少3种不同类型的信息.

1) 宿舍由房间号(room_number)作为唯一标识, 每个宿舍居住的学生id
2) 饭卡由发卡号(foodcard_number)作为唯一标识, 每个饭卡对应学生id
3) 成绩查询. 与学生id对应, 各个学科成绩.

1.5 假设你想要建立一个类似于YouTube的视频节点.考虑1.2节中列出的将数据保存在文件系统中的各个缺点,讨论每一个缺点与存储实际的视频数据和关于视频的元数据(诸如标题,上传它的用户,标签,观看它的用户)的关联.

1) 数据的冗余和不一致

a. 一部即使科幻和欧美的电影, 该怎么存放, "科幻"和"欧美"的2个目录各自存放一份, 如果分类更多, 那么会有更多的复制, 会造成数据的冗余
b. 因为有多个复制, 如果需要更新一下信息, 要么全部更新所有复制, 否则就会不一致


2) 数据访问困难

a. 依赖于文件系统的搜索, 而其效率很低


3) 数据孤立

a. 数据是被文件系统关系着, 而在数据个关联性方面文件系统很差, 无法对数据进行"聚集函数"之类的查询和分析

4) 完整性问题

a. 文件系统不能保证某些数据的"约束"性问题, 如: 主键, check, 触发器

5) 原子性问题

a. 文件系统没有事务的概念, 自然无法保证原子性问题

6) 并发访问异常

a. 并发访问, 需要文件系统具备很强的并发控制能力, 而这恰恰是文件系统所不足的

1.6 在Web查找中使用的关键字查询与数据库查询很不一样.请列出这两者之间在查询表达式和查询结果是什么方面的主要差异.

web查找指的是GOOG搜索吗?
Google/Baidu vs  数据库
1. 多个查找  
    a. (关键字用空格隔开即可)
    ex: 中国  手表
    b. 
    ex: select * from where text like '%中国%' or '%手表%';
2.  web查找比较简单, 而数据库SQL需要掌握一定的技能
3. web查找无法实现精确的查找, 而数据库只有组织好sql, 就有可能

## 习题

1.7 列出四个你使用过的很可能使用了数据库来存储持久数据的应用.

1) vstudio 使用了sqlite数据库
2) 阿里巴巴后台使用了mysql和Postgresql数据库
3) 亚马逊使用了Postgresql数据库
4) 支付宝使用了他们的Oceanbase数据库

1.8 列出文件处理系统和DBMS的四个主要区别.

TODO

1.9 解释物理数据独立性的概念, 以及它在数据库中的重要性.

数据独立性是数据库系统的一个最重要的目标之一, 它使数据能独立于应用程序. 可以说数据处理的发展史就是数据独立性不断进化的历史.在收工管理阶段,数据和程序完全交织在一起,没有独立性可言,数据结构做任何改动,应用程序也需要做相应的修改;文件系统出现后,虽然将两者分离,但实际上应用程序中依然要反映文件在存储设备上的组织方法,存取方法等物理节点,因而只要数据做了任何修改,程序仍然需要改动.而数据库系统的一个重要目标就是要使程序和数据真正分离,使它们能独立发展.

数据独立性包括数据的物理独立性和数据的逻辑独立性.

物理独立性是指用户的应用程序与存储在磁盘上的数据库中数据时相互独立的.即, 数据在磁盘上怎样存储由DBMS(DataBase Management System数据库管理系统)管理,用户程序不需要了解,应用程序要处理的只是数据的逻辑结构, 这样当数据的物理存储改变了,应用程序不用改变.

逻辑独立性是指用户的应用程序与数据库的逻辑结构是相互独立的,即,当数据的逻辑结构改变时,用户程序也可以不变.

数据与程序的独立, 把数据的定义从程序中分离出去, 加上数据的存取又由DBMS负责, 从而简化了应用程序的编制, 大大减少了应用程序的维护和修改.

1.10 列出数据库管理系统的五个职责. 对每个职责, 说明当它不能被履行时会产生什么样的问题.

ACID共4个 + (备份和恢复).

1.11 请给出至少两种理由说明为什么数据库系统使用声明性查询语言,如SQL, 而不是只提供C或者C++的函数库来执行数据操纵.

1) SQL是描述性语言, 更加简单, C或C++过于复杂
2) SQL对用户屏蔽了底层的具体实现
3) SQL可以做到和操作系统解耦, 而C或C++和操作系统的具体实现比较紧耦合.


1.12 解释用图1-4中的表来设计会导致哪些问题.

TODO

1.13 数据库管理员的五种主要作用是什么?

1) 调优(或优化)
2) 安全: 备份和恢复
TODO

1.14 解释两层和三层体系结构之间的区别.对web应用来说哪一种更合适?为什么?

TODO

1.15 描述可能被用于存储一个社会网络系统如Facebook中的信息的至少3个表.

1) 用户信息

user_table
    user_id, name, sex, age

friends_table
    TODO

blacklist_table
    TODO



